!function(e){defOptions={source:"images/object/",ext:".png",count:70,speed:5,auto:!1},e.fn.rotate3d=function(n){var t=this;n.source||(n.source=defOptions.source),n.ext||(n.ext=defOptions.ext),n.count||(n.count=defOptions.count),n.speed||(n.speed=defOptions.speed),n.auto||(n.auto=defOptions.auto);for(var o=null,a=0,i=[],r=null,s=!1,u=0;u<=n.count;++u){var c=new Image;c.src=n.source+u+n.ext,i.push(c)}t.moveHandler=function(e){var t=e.clientX-o;Math.abs(t)>n.speed&&(o=e.clientX,(a+=t/Math.abs(t)*1)>=n.count&&(a=0),a<0&&(a=n.count),r.attr("src",i[a].src))},t.upHandler=function(n){e(document).off("mousemove",t.moveHandler)},t.imageAttr=function(e){r.attr("src",i[e].src)};var m,d=!1,l=!1;t.autoPlay=function(){let e=0;if(n.auto){window.requestAnimationFrame(function n(){t.imageAttr(e),e++,console.log("Auto: go_____"),e>=i.length?(clearInterval(m),s=!0,l=!0,d=!0,console.log("Auto: "+s)):window.requestAnimationFrame(n)})}},t.changeImgReverse=function(){let e=n.count;window.requestAnimationFrame(function o(){t.imageAttr(e),e--,console.log("Reverse: go_____"),d=!1,e<n.count-.4*n.count?(clearInterval(m),d=!0,l||changeImgBack(),console.log("- AUTOBACK -"),console.log("Reverse: "+d)):window.requestAnimationFrame(o)})},t.changeImgBack=function(){let e=n.count-.4*n.count;window.requestAnimationFrame(function n(){t.imageAttr(e),e++,console.log("Back: go_____"),l=!1,e>=i.length?(clearInterval(m),l=!0,d=!0):window.requestAnimationFrame(n)})},e(this).on("drag",function(){return!1}),e(this).on("dragdrop",function(){return!1}),e(this).on("dragstart",function(){return!1});if(t.animateOpenEnd=!0,t.animateCloseEnd=!0,t.isOpened=!1,t.isHovered=!1,t.animateOpen=function(e,n){if(e&&(t.isOpened=!1),!t.animateOpenEnd||!t.animateCloseEnd||t.isOpened)return;t.animateOpenEnd=!1;let o=0,a=null;window.requestAnimationFrame(function e(){a||(a=(new Date).getTime());var r=(new Date).getTime();r-a>=30&&(a=r,t.imageAttr(o),o++),o>=i.length?(clearInterval(m),t.animateOpenEnd=!0,t.isOpened=!0,n&&n()):window.requestAnimationFrame(e)})},t.animateClose=function(){if(!t.animateOpenEnd||!t.animateCloseEnd||!t.isOpened||t.isHovered)return;t.animateCloseEnd=!1;let e=n.count,o=null;window.requestAnimationFrame(function n(){o||(o=(new Date).getTime());var a=(new Date).getTime();a-o>=30&&(o=a,t.imageAttr(e),e--),e<=0?(clearInterval(m),t.animateCloseEnd=!0,t.isOpened=!1):window.requestAnimationFrame(n)})},t.hasClass("object-hover")){var g=t.children(".hover-area");g.length<=0&&(g=t),g.on("mouseover",function(){t.isHovered=!0,t.animateOpen(!1)}),g.on("mouseleave",function(){t.isHovered=!1,t.isOpened||t.animateOpenEnd?t.isOpened&&t.animateOpenEnd&&t.animateClose():setTimeout(t.animateClose,2e3)})}t.append(e("<img>").attr({src:n.source+a+n.ext})).find("img").on("mousedown",function(n){o=n.clientX,e(document).on("mousemove",t.moveHandler)}),r=e(this).find("img"),e(document).on("mouseup",t.upHandler)}}(jQuery);
//# sourceMappingURL=rotate.js.map
